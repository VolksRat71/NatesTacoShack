{"version":3,"sources":["webpack:///./src/utils/useLatestData.js","webpack:///./src/styles/HomePageStyles.js","webpack:///./src/components/LoadingGrid.js","webpack:///./src/components/ItemGrid.js","webpack:///./src/pages/index.js"],"names":["gql","String","raw","reqVars","HomePageGrid","styled","div","ItemsGrid","SingleGridItem","count","Array","from","length","_","i","key","className","src","alt","width","height","ItemGrid","items","pathTo","itemType","map","_id","name","vegan","current","slug","image","asset","url","lqip","metadata","to","style","background","backgroundSize","DailySpecials","dailySpecials","LoadingGrid","WhoIsOn","whoIsOn","HomePage","useState","setWhoIsOn","setDailySpecials","location","setLocation","useEffect","fetch","process","method","headers","body","JSON","stringify","query","then","res","json","data","StoreSettings","chef","specials","catch","err","console","log","useLatestData"],"mappings":"6rBAEA,IAAMA,EAAMC,OAAOC,IACbC,EAAUH,EAAH,K,gBCDAI,EAAeC,IAAOC,IAAV,mFAAGD,CAAH,wJASZE,EAAYF,IAAOC,IAAV,gFAAGD,CAAH,0DAMTG,EAAiBH,IAAOC,IAAV,qFAAGD,CAAH,kjBCdZ,cAAsB,IAAVI,EAAS,EAATA,MACvB,OACI,kBAACF,EAAD,KACKG,MAAMC,KAAK,CAAEC,OAAQH,IAAS,SAACI,EAAGC,GAAJ,OAC3B,kBAACN,EAAD,CAAgBO,IAAKD,GACjB,2BACI,0BAAME,UAAU,QAAhB,eAEJ,yBACIC,IAAI,0HACJD,UAAU,UACVE,IAAI,UACJC,MAAM,MACNC,OAAO,c,YCZhB,SAASC,EAAT,GAAwC,IAApBC,EAAmB,EAAnBA,MACzBC,EAAsB,YADsB,EAAZC,SACE,UAAY,UACpD,OACI,kBAACjB,EAAD,KACKe,EAAMG,KAAI,gBACPC,EADO,EACPA,IACAC,EAFO,EAEPA,KACAC,EAHO,EAGPA,MACQC,EAJD,EAIPC,KAAQD,QAJD,IAKPE,MAASC,MAASC,EALX,EAKWA,IAAiBC,EAL5B,EAKgBC,SAAYD,KAL5B,OAOP,kBAAC,IAAD,CAAMnB,IAAKW,EAAKU,GAAE,GAAKb,EAASM,GAC5B,kBAACrB,EAAD,KACI,2BACI,0BAAMQ,UAAU,kBACXW,EAAMC,EAAQ,KAAO,KAG9B,yBACIX,IAAQgB,EAAL,wBACHf,IAAKS,EACLU,MAAO,CACHC,WAAW,OAAQJ,EAAT,IACVK,eAAgB,iBCrBhD,SAASC,EAAT,GAA2C,IAAlBC,EAAiB,EAAjBA,cACrB,OACI,6BACI,wBAAIzB,UAAU,UACV,0BAAMA,UAAU,QAAhB,qBAIJ,qDAC0B,IAAzByB,EAAc7B,OACX,kBAAC8B,EAAD,CAAajC,MAAO,IACpB,kBAACY,EAAD,CAAUC,MAAOmB,EAAejB,SAAS,aAKzD,SAASmB,EAAT,GAA+B,IAAZC,EAAW,EAAXA,QACf,OACI,6BACI,wBAAI5B,UAAU,UACV,0BAAMA,UAAU,QAAhB,oBAIJ,uDACoB,IAAnB4B,EAAQhC,OACL,kBAAC8B,EAAD,CAAajC,MAAO,IACpB,kBAACY,EAAD,CAAUC,MAAOsB,KAKlB,SAASC,IAAY,IAAD,EJnBpB,WAA0B,IAAD,EACRC,mBAAS,IAAhCF,EAD+B,KACtBG,EADsB,OAEID,mBAAS,IAA5CL,EAF+B,KAEhBO,EAFgB,OAGNF,mBAAS,IAAlCG,EAH+B,KAGrBC,EAHqB,KAqCtC,OAhCAC,qBAAU,WACRC,MAAMC,+DAAqC,CACzCC,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAU,CACnBC,MAAO3D,EAAF,IAMGG,EAGAA,OAQTyD,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MAAK,YAA4D,IAAD,IAAxDG,KAAQC,cAAiBC,EAA+B,EAA/BA,KAAMtC,EAAyB,EAAzBA,KAAMuC,EAAmB,EAAnBA,SAC5CnB,EAAWkB,GACXjB,EAAiBkB,GACjBhB,EAAYvB,MAEbwC,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,QAC7B,IACI,CACLxB,UACAH,gBACAQ,YIpB6CsB,GAArC3B,EADuB,EACvBA,QAASH,EADc,EACdA,cAAeQ,EADD,EACCA,SAChC,OACI,yBAAKjC,UAAU,UACX,6DACA,kCAAQiC,EAAR,4CACA,kBAAC7C,EAAD,KACI,kBAACoC,EAAD,CAAeC,cAAeA,IAC9B,kBAACE,EAAD,CAASC,QAASA","file":"component---src-pages-index-js-4931cfbc81e517b9d3b2.js","sourcesContent":["import { useEffect, useState } from 'react';\r\n// This is for the VS code formatter, it doesn't change code behavior\r\nconst gql = String.raw\r\nconst reqVars = gql`\r\n  _id\r\n  name\r\n  slug {\r\n    current\r\n  }\r\n  image {\r\n    asset {\r\n      url\r\n      metadata {\r\n        lqip\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport default function useLatestData() {\r\n  const [whoIsOn, setWhoIsOn] = useState([]);\r\n  const [dailySpecials, setDailySpecials] = useState([]);\r\n  const [location, setLocation] = useState('');\r\n\r\n  useEffect(function () {\r\n    fetch(process.env.GATSBY_GRAPHQL_ENDPOINT, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        query: gql`\r\n\r\n        query {\r\n          StoreSettings(id: \"downtown\") {\r\n            name\r\n            chef {\r\n              ${reqVars}\r\n            }\r\n            specials {\r\n              ${reqVars}\r\n              vegan\r\n            }\r\n          }\r\n        }\r\n                `\r\n      })\r\n    })\r\n      .then(res => res.json())\r\n      .then(({ data: { StoreSettings: { chef, name, specials } } }) => {\r\n        setWhoIsOn(chef);\r\n        setDailySpecials(specials);\r\n        setLocation(name);\r\n      })\r\n      .catch((err) => console.log(err))\r\n  }, [])\r\n  return {\r\n    whoIsOn,\r\n    dailySpecials,\r\n    location\r\n  }\r\n}","import styled from 'styled-components';\r\n\r\nexport const HomePageGrid = styled.div`\r\n    display: grid;\r\n    gap: 2rem;\r\n    grid-template-columns: repeat(2, minmax(auto, 1fr));\r\n    @media (max-width: 600px) {\r\n        grid-template-columns: repeat(1, minmax(auto, 1fr));\r\n    }\r\n`;\r\n\r\nexport const ItemsGrid = styled.div`\r\n    display: grid;\r\n    gap: 2rem;\r\n    grid-template-columns: 1fr 1fr;\r\n`;\r\n\r\nexport const SingleGridItem = styled.div`\r\n    text-align: center;\r\n    position: relative;\r\n    img {\r\n        height: auto;\r\n    }\r\n    p {\r\n        transform: rotate(-2deg) translateY(-90%);\r\n        position: absolute;\r\n        width: 100%;\r\n        left: 0;\r\n    }\r\n    .mark {\r\n        display: inline;\r\n    }\r\n    @keyframes shine {\r\n        from {\r\n            background-position: 200%\r\n        }\r\n        to {\r\n            background-position: -40px\r\n        }\r\n    }\r\n    img.loading {\r\n        --shine: white;\r\n        --background: var(--grey);\r\n        background-image: linear-gradient(\r\n            90deg,\r\n            var(--background) 0px,\r\n            var(--shine) 40px,\r\n            var(--background) 80px\r\n        );\r\n        background-size: 500px;\r\n        animation: shine 1s infinite linear;\r\n    }\r\n    @media (max-width: 1010px) {\r\n        .itemsDesc {\r\n            font-size: 1.25rem;\r\n        }\r\n    }\r\n    @media (max-width: 600px) {\r\n        .itemsDesc {\r\n            font-size: 2rem;\r\n        }\r\n    }\r\n`;","import React from 'react';\r\nimport { ItemsGrid, SingleGridItem } from \"../styles/HomePageStyles\";\r\n\r\nexport default function ({ count }) {\r\n    return (\r\n        <ItemsGrid>\r\n            {Array.from({ length: count }, (_, i) => (\r\n                <SingleGridItem key={i}>\r\n                    <p>\r\n                        <span className=\"mark\">Loading...</span>\r\n                    </p>\r\n                    <img\r\n                        src=\"data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAAUAAAAECAQAAADsOj3LAAAADklEQVR42mNkgANGQkwAAJoABWH6GPAAAAAASUVORK5CYII=\"\r\n                        className=\"loading\"\r\n                        alt=\"Loading\"\r\n                        width=\"500\"\r\n                        height=\"400\"\r\n                    />\r\n                </SingleGridItem>\r\n            ))}\r\n        </ItemsGrid>\r\n    )\r\n}","import { Link } from 'gatsby';\r\nimport React from 'react';\r\nimport { ItemsGrid, SingleGridItem } from '../styles/HomePageStyles';\r\n\r\nexport default function ItemGrid({ items, itemType }) {\r\n    const pathTo = itemType === 'special' ? '/tacos/' : '/chefs/'\r\n    return (\r\n        <ItemsGrid>\r\n            {items.map(({\r\n                _id,\r\n                name,\r\n                vegan,\r\n                slug: { current },\r\n                image: { asset: { url, metadata: { lqip } } }\r\n            }) => (\r\n                <Link key={_id} to={`${pathTo}${current}`}>\r\n                    <SingleGridItem>\r\n                        <p>\r\n                            <span className=\"mark itemsDesc\">\r\n                                {name}{vegan ? 'ðŸŒ±' : ''}\r\n                            </span>\r\n                        </p>\r\n                        <img\r\n                            src={`${url}?w=500&h=400&fit=crop`}\r\n                            alt={name}\r\n                            style={{\r\n                                background: `url(${lqip})`,\r\n                                backgroundSize: 'cover'\r\n                            }}\r\n                        />\r\n                    </SingleGridItem>\r\n                </Link>\r\n            ))}\r\n        </ItemsGrid>\r\n    )\r\n}","import React from 'react';\r\nimport useLatestData from '../utils/useLatestData';\r\nimport { HomePageGrid } from '../styles/HomePageStyles'\r\nimport LoadingGrid from '../components/LoadingGrid';\r\nimport ItemGrid from '../components/ItemGrid';\r\n\r\nfunction DailySpecials({ dailySpecials }) {\r\n    return (\r\n        <div>\r\n            <h2 className=\"center\">\r\n                <span className=\"mark\">\r\n                    Daily Hot Deals!\r\n                </span>\r\n            </h2>\r\n            <p>Today's featured Tacos</p>\r\n            {dailySpecials.length === 0 ?\r\n                <LoadingGrid count={4} /> :\r\n                <ItemGrid items={dailySpecials} itemType=\"special\" />}\r\n        </div>\r\n    )\r\n};\r\n\r\nfunction WhoIsOn({ whoIsOn }) {\r\n    return (\r\n        <div>\r\n            <h2 className=\"center\">\r\n                <span className=\"mark\">\r\n                    Chefs for Today\r\n                </span>\r\n            </h2>\r\n            <p>Good eats by good people</p>\r\n            {whoIsOn.length === 0 ?\r\n                <LoadingGrid count={4} /> :\r\n                <ItemGrid items={whoIsOn} />}\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default function HomePage() {\r\n    const { whoIsOn, dailySpecials, location } = useLatestData();\r\n    return (\r\n        <div className=\"center\">\r\n            <h1>The Best Tacos in Austin, TX!</h1>\r\n            <p>The {location} location is open 11am to 11pm every day</p>\r\n            <HomePageGrid>\r\n                <DailySpecials dailySpecials={dailySpecials} />\r\n                <WhoIsOn whoIsOn={whoIsOn} />\r\n            </HomePageGrid>\r\n        </div>\r\n    )\r\n};"],"sourceRoot":""}